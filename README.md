# AngularWacodisJobScheduler

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 9.1.0.

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).

# WaCoDiS Metadata Connector
![Java CI](https://github.com/WaCoDiS/metadata-connector/workflows/Java%20CI/badge.svg)
  
The WaCoDiS Metadata Connector component provides routines for handling DataEnvelope creation events in order to connect 
to the DataAccess API for creating new metadata resources.

**Table of Content**  
TODO  


## WaCoDiS Project Information
<p align="center">
  <img src="https://raw.githubusercontent.com/WaCoDiS/apis-and-workflows/master/misc/logos/wacodis.png" width="200">
</p>
Climate changes and the ongoing intensification of agriculture effect in increased material inputs in watercourses and dams.
Thus, water industry associations, suppliers and municipalities face new challenges. To ensure an efficient and environmentally
friendly water supply for the future, adjustments on changing conditions are necessary. Hence, the research project WaCoDiS
aims to geo-locate and quantify material outputs from agricultural areas and to optimize models for sediment and material
inputs (nutrient contamination) into watercourses and dams. Therefore, approaches for combining heterogeneous data sources,
existing interoperable web based information systems and innovative domain oriented models will be explored.

### Architecture Overview
For a detailed overview about the WaCoDiS system architecture please visit the 
**[WaCoDiS Core Engine](https://github.com/WaCoDiS/core-engine)** repository.  

## Overview  
The WaCoDiS Job Manager UI allows the management and scheduling of jobs,  
The WaCoDiS Metadata Connector is an intermediate component with the scope to handle asynchronous DataEnvelope creation
events in order to interact with the DataAccess API for creating new metadata resources. Therefore, the Metadata Connector
subscribes for DataEnvelope creation messages at a message broker which are published by the 
**[Datasource Observer](https://github.com/WaCoDiS/datasource-observer)** if new required datasets are found. Following,
the Metadata Connector checks whether metadata for the found datasets have been already registered at the 
**[Data Access API](https://github.com/WaCoDiS/data-access-api)** or not and creates or updates corresponding metadata
information.
### Modules
The WaCoDiS Metadata Connector comprises three Maven modules:
* __WaCoDiS Metadata Connector Models__  
This module contains Java classes that reflect the basic data model. This includes the data types specified with OpenAPI
in the WaCoDiS apis-and workflows repository. All model classes were generated by the OpenAPI Generator, which is integrated
and can be used as Maven Plugin within this module.  
* __WaCoDiS Metadata Listener__  
This module is responsible for the message broker subscription as well as the interconnection to the Data Access API.
In addition, for each DataEnvelope type it contains a separate metadata update strategy.  
* __WaCoDiS Metadata Connector App__ 
Since WaCoDiS Metadata Connector is implemented as Spring Boot application, the App module provides the application runner
as well as default externalized configurations.
### Technologies/Dependencies
Angular: 10.2.1
Bootstrap: 4.4.1

## Installation / Building Information
### Build from Source
Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

### Build with Docker
TODO 
Docker run

### Configuration
To use the API on your local system you will need to configure the angular app accordingly. 

#### Parameters
To use the locally installed API components, in the file environment.ts, set the parameter 'wacodisAPI' to the relevant URL, which is generally 'http://localhost:8080/wacodis-job-definition-api/jobDefinitions'.

To submit or request jobs, have a look into the file 'processMappings.json'. Here, you will find an overview of definition of job objects.

#### Development server
Run `ng serve --open` for a dev server and opening a web browser window displaying the job manager on http://localhost:4200/jobs.


### Deployment
TODO
This section describes deployment scenarios, options and preconditions.

## User Guide
To install the backend components follow the instructions as described here : https://github.com/WaCoDiS/job-definition-api


## Contribution - Developer Information
This section contains information for developers.

### How to Contribute
TODO
Describe how to extend this module

### Branching
The master branch provides sources for stable builds. The develop branch represents the latest (maybe unstable) state of development.

### License and Third Party Lib POM Plugins
[optional]

## Contact
|    Name   |   Organization    |    Mail    |
| :-------------: |:-------------:| :-----:|
| Sebastian Drost | Bochum University of Applied Sciences | sebastian.drost@hs-bochum.de |
| Arne Vogt | Bochum University of Applied Sciences | arne.vogt@hs-bochum.de |
| Andreas Wytzisk  | Bochum University of Applied Sciences | andreas.wytzisk@hs-bochum.de |
| Matthes Rieke | 52째 North GmbH | m.rieke@52north.org |

## Credits and Contributing Organizations
- Department of Geodesy, Bochum University of Applied Sciences, Bochum
- 52째 North Initiative for Geospatial Open Source Software GmbH, M체nster
- Wupperverband, Wuppertal
- EFTAS Fernerkundung Technologietransfer GmbH, M체nster

The research project WaCoDiS is funded by the BMVI as part of the [mFund programme](https://www.bmvi.de/DE/Themen/Digitales/mFund/Ueberblick/ueberblick.html)  
<p align="center">
  <img src="https://raw.githubusercontent.com/WaCoDiS/apis-and-workflows/master/misc/logos/mfund.jpg" height="100">
  <img src="https://raw.githubusercontent.com/WaCoDiS/apis-and-workflows/master/misc/logos/bmvi.jpg" height="100">
</p>

